package arrayBribeInQueque;

import java.util.Arrays;
import java.util.Scanner;


public class Main {
    public static void main(String[] args) {
        String str = "2 4 5 1 3 8 9 10 6 7 13 12 14 11 16 18 15 17 19 22 20 21 23 26 25 28 24 27 30 32 29 34 31 35 33 37 36 39 41 38 42 43 40 45 44 48 46 47 51 50 49 53 54 52 55 57 56 60 59 58 61 64 63 62 67 66 65 70 69 68 71 74 73 72 77 76 79 78 75 80 82 81 85 83 84 87 86 89 90 88 91 94 92 93 95 98 97 100 96 102 101 99 103 105 104 107 106 110 108 112 109 111 113 116 114 115 118 117 119 121 123 120 122 124 127 125 126 130 128 132 133 129 131 135 134 137 136 139 138 140 143 141 145 142 144 146 147 148 150 149 153 151 152 156 155 154 159 157 160 158 162 164 161 165 167 163 166 169 168 172 170 171 173 174 176 177 175 180 178 182 181 183 179 184 186 185 189 188 187 190 191 194 192 195 193 197 196 200 199 198 202 203 201 204 206 208 205 210 207 209 211 213 215 212 217 216 214 219 220 221 218 222 224 226 227 223 225 230 229 228 231 233 232 235 234 238 237 236 240 239 243 242 244 241 245 246 249 248 247 250 253 251 252 254 255 257 256 258 261 259 260 263 265 262 266 264 268 269 267 272 270 274 273 271 275 276 277 278 279 282 280 283 281 284 285 287 286 288 290 289 293 294 295 291 292 297 299 296 298 302 301 300 305 304 303 308 306 310 309 307 313 311 315 312 314 317 316 319 320 318 321 322 324 323 325 327 326 330 329 328 331 333 332 334 337 336 335 339 340 338 342 341 345 344 343 348 349 347 346 351 353 350 354 355 352 357 356 359 358 362 360 361 363 364 365 366 367 370 369 368 371 374 372 373 376 378 375 379 377 381 383 382 385 380 386 387 384 390 389 388 393 391 395 394 392 397 396 399 400 401 403 398 402 406 407 405 409 408 411 404 413 410 415 414 412 418 417 416 419 422 420 424 423 425 421 428 429 430 431 426 427 432 435 434 433 438 436 440 437 439 443 442 441 445 444 447 446 449 448 450 452 451 455 453 454 456 459 458 457 461 462 460 464 463 466 465 467 469 468 470 472 471 475 473 474 476 477 479 478 482 480 481 484 485 486 483 488 487 491 490 489 494 492 496 493 495 497 499 500 501 498 503 502 506 504 507 505 510 508 509 512 511 513 514 516 515 517 518 519 520 521 524 523 522 525 526 527 530 528 529 531 533 532 536 534 537 535 538 539 540 542 543 545 544 541 547 546 549 548 551 550 553 552 556 555 558 554 557 559 561 562 560 564 563 565 568 567 566 570 572 569 573 571 575 574 577 579 576 581 578 580 584 583 585 582 587 586 588 589 591 590 594 593 592 596 597 595 600 599 598 603 602 601 604 606 608 605 609 610 607 612 613 615 611 614 618 616 617 619 621 623 622 620 624 626 625 627 629 628 630 632 631 635 633 634 637 638 636 641 639 640 643 642 645 644 648 647 646 650 649 653 651 652 654 655 656 657 660 659 658 661 664 663 666 667 662 665 670 668 672 673 669 671 676 674 675 677 678 681 679 682 683 685 684 680 688 686 689 691 687 690 692 693 695 696 694 697 699 701 698 700 703 705 706 702 704 708 707 710 709 711 713 712 715 714 716 717 720 718 721 722 719 723 724 725 726 727 730 729 731 728 733 735 736 734 732 738 737 739 740 743 742 741 744 747 745 746 750 748 752 749 751 753 755 754 757 756 759 760 758 762 761 764 763 766 765 767 770 769 768 773 771 772 774 777 776 779 775 780 782 781 778 784 786 783 788 785 787 789 791 790 794 792 796 793 798 799 797 795 802 803 801 800 804 806 808 805 807 809 811 812 810 815 813 814 818 816 817 819 822 820 823 821 826 825 824 827 828 829 830 831 833 832 834 837 835 836 838 840 839 843 841 844 842 847 845 848 846 850 849 853 851 854 852 857 856 855 860 858 862 859 864 861 863 866 865 869 867 871 868 870 874 872 875 877 873 879 880 876 878 883 881 884 885 882 888 887 890 886 889 893 891 895 892 896 894 897 899 898 901 900 903 902 905 906 907 904 910 908 911 909 913 912 916 915 914 918 917 920 921 919 924 923 922 926 925 928 927 930 929 932 931 935 933 934 937 936 938 939 942 941 940 943 944 947 945 948 949 946 952 950 951 955 954 953 957 956 960 958 962 959 964 965 961 963 968 969 966 967 972 970 971 973 974 975 977 976 979 980 978 982 981 983 984 986 985 987 988 991 989 992 990 993 996 994 998 995 997";

        String[] qItems = str.split(" ");
        int[] arr = new int[qItems.length];
        for (int i = 0; i < qItems.length; i++) {
            int qItem = Integer.parseInt(qItems[i]);
            arr[i] = qItem;
        }

        minimumBribes(arr);
        System.out.println();
    }

    // Complete the minimumBribes function below.
    private static void minimumBribes(int[] q) {
        int counter = 0;
        for (int i = 0; i < q.length - 1; i++) {
            if (q[i] - i < 4) {
                if (q[i] - q[i + 1] > 0) {
                    int qTemp = q[i + 1];
                    q[i + 1] = q[i];
                    q[i] = qTemp;
                    counter++;
                    i=Math.max(-1,i-2);
                }
            } else {
                System.out.println("Too chaotic");
                return;
            }
        }
        System.out.println(Arrays.toString(q));
        System.out.println(counter);

    }
}
